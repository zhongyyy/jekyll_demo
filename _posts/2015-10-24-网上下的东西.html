---
layout: article
title: github上建主页2-jekyll
last_edit_time: 2015.08.14 15:52
origin_url: http://www.jianshu.com/p/62d27d071e1c
---
<p>      坑爹了！发现这文章抓下来之后传到github上面不认啊！！！！！！！</p><p>      满地打滚～满地打滚～</p><p>      因为文章里提到了各种标签，而这些标签都是jekyll使用的，毕竟就是讲jekyll的文章嘛。但是这就导致jekyll把我文章里写的内容当成标签了！于是乎就悲剧了。</p><p>      只能把大括号改为别的了，下文中提到标签的时候请自行替换成大括号吧。</p><hr><p>      上次讲完了github官方客户端的使用，这回来讲一下如何让自己的网页显示在github上。有了这个，我们就能展示网页啦～</p><p>      说来刚刚又加上了下载图片本地查看的功能，一直连接简书的外链也不是个长久之计。另外再吐槽下最近为什么github这么慢！sync半天都完成不了，访问github网站倒是好好的，真是见鬼了！</p><p>      吐槽结束。继续正文吧。上次已经说过jekyll已经集成在github上，我们只要按照jekyll的要求准备好相应的文件就行。</p><p>      这里先把我的测试博客的github地址贴出来：https://github.com/gennis0000/my_blog_test</p><p>      我写的文件都在这个上面，虽然写的很烂，不过基本的东西都有，可以参考一下。</p><p>      如果你的需求很简单，只是展示一两个静态网页的话，那不需要搞得这么复杂，你只需要新建一个仓库，仓库命名为“<b>用户名</b>.github.io”就可以了，<b>用户名</b>要替换成你注册github时起的名字（这个大家应该都明白，以防万一顺便提一句）。这是一个特殊的仓库，这个仓库里存放的所有html文件都可以直接访问，访问方式是：“https://<b>用户名</b>.github.io/<b>文件名</b>.html”，如果有子目录的话再加上子目录的路径就好了。这个仓库相当于你这个用户的展示页面，不需要任何配置，直接把html上传就可以看。</p><p>      如果你要搞的复杂些，那么没有配置任何东西就不行了。其实用“<b>用户名</b>.github.io”这个仓库也可行，不过既然是博客，单独起个新仓库更好。</p><p>      之前说过，github增加这个功能是为了方便大家介绍、展示自己的项目，方便刚接触这个东西的人学习如何使用。你一个人也许同时开了好几个项目，总不能把展示的页面都放在一个仓库里吧～于是github给每个仓库留了一个特殊的分支，gh-pages。这个分支下的东西会被jekyll处理成网页。</p><p>      当然，我们并不是用它来介绍项目，我们是直接拿来做博客的，那么就只建立一个gh-pages分支就可以了，仓库的名字随意。因为为我很懒，就先贴个网址上来http://jekyllrb.com/docs/structure/。jekyll的结构写的已经很清楚了。</p><p>      记住，你写的所有相关的文件都要在gh-pages分支下操作，切记！</p><p>      接下来，我们就讲讲jekyll需要些什么。这里说的都是运行所需的最基本的东西，主要是：</p><p>      1 index，也就是主页了。</p><p>      2 _config.yml。这个是配置文件，文件的名字不能写错。</p><p>      3 _layouts。这个是存放template的文件夹，template是要有的。</p><p>      4 _posts。这个是存放网页的文件夹。</p><p>      首先讲一下config，也就是_config.yml。这个讲的快，因为我也不会，恩。文件名和后缀是不能改的，这个一定要记住。</p><p>      其实_config.yml可以配置不少东西，有需要的话请到jekyll在github的主页看看，如果只是让网站能运行起来的话，只要和我一样配置一条：</p><p>      baseurl: <b>/my_blog_test</b></p><p>      就可以了。记住粗体的路径要改成你自己起的名字哦。这条也好理解吧～就是设置网站的根目录一样的东西。</p><p>      再讲一下_layouts。这其实就是个文件夹，但是文件夹的名字不能改，这个名字的文件夹下的所有html文件都会被jekyll认为是模板。文件夹的名字不是重点！重点是模板怎么写对吧～jekyll使用的是Liquid模板语言（我百度出来的答案），在我看来和django的差不多，也许其实就是一个东西。模板其实就是一个html文件，写法和html是一样的，唯一的区别就是引入了新的标签，就是Liquid模板语言中的标签，jekyll会事先处理标签，生成只有html标签的网页，也就是最后我们看到的网页。像现在只是让网页能正常显示，就只注意[[ content ]]这个标签就行了，jekyll会用放在_posts下面的html文件的内容来替换这个标签，所以你最后看到的网页是[[ content ]]被替换掉之后的、_layouts下的模板和_posts下的内容合并成一个文件之后的结果。</p><p>      再接下来跟着讲_posts。这个文件夹下的都是网页的具体内容。当然这个文件夹下存放的也不是标准的html文件。</p><blockquote>
<p>---</p>
<p>layout: <b>XXXX</b></p>
<p>title: <b>XXXX</b></p>
<p>---</p>
</blockquote><p>      这是一个简单的头部（就是没用的我使用的最简易的那种），同样<b>XXXX</b>替换成需要的内容。_posts下的每个html文件都要有一个这样的头部，写在文件最开始就可以。“---”这是一个标识，两个“---”中间的部分就会被识别为是头部，中间的两个参量也很好理解，第一个layout是指定使用哪个模板，模板的名字就是_layouts下面的模板的文件名，记得模板文件名中的后缀部分要去掉。title则是这个html文件的title，记得如果要使用title的话，那么在模板中也需要加上[[ page.title ]]这个标签，jekyll就会用title的内容替换[[ page.title ]]标签。当然别忘了写html的标签。</p><p>      在头部的下方就是正常的html文件内容，按照正常的html来写就可以了。</p><p>      _posts下的文件的内容就是这样了，接下来说下文件名的命名规则。如果你不这么命名，jeykll是不认的。文件名的开头必须是时间，像这样“2015-01-01-<b>XXXX</b>.html”，格式也不要错。可能还有别的命名方式jekyll也接受，不过我就不知道了。后面XXXX写什么它不会关心，你写的方便自己识别就好。</p><p>      最后说提一下index，index.html和_posts下的文件一样，也需要头部，只是它的名字必须是index.html，并且也不能放在_posts下面，而是要放在根目录下。</p><blockquote>
<p>[% for post in site.posts %]</p>
<p>[[ post.date | date_to_string ]]   [[ site.baseurl ]][[ post.url ]]<a href="http://www.jianshu.com/%7B%7B%20site.baseurl%20%7D%7D%7B%7B%20post.url%20%7D%7D" target="_blank"></a></p>
<p>[% endfor %]</p>
</blockquote><p>      在index下面，上面这段是有必要加上的。site.posts就是指_posts下的内容，这个for循环就是把_posts下所有的文件挨个处理。[[ post.date | date_to_string ]]中的post.date是指这个文件的日期，中间的管道符可以理解为cmd中的管道符，将post.date的内容管道给date_to_string处理，date_to_string就是把日期处理为人类能看得懂的形式；[[ site.baseurl ]]就是config下定义的那个baseurl，[[ post.url ]]就是这个文件的相对url。因为在简书上贴不出html的标签（这也是个html文件嘛），只能再贴张图了。</p><div class="image-package">
<img src="http://gennis0000.github.io/my_blog_test/images/github上建主页2-jekyll/github上建主页2-jekyll-1.jpg" data-original-src="http://upload-images.jianshu.io/upload_images/660922-fd78c044a45f2480.JPG" data-image-slug="fd78c044a45f2480" data-width="900" data-height="115"><br><div class="image-caption">注意图中的大括号才是正确的</div>
</div><p>      这个图里的是完整的，总之这么写不会有问题。（我也是网上抄来的配置）</p><p>      有了这些基本的东西，就能让网页正常显示了。如果你要问我html怎么写，我只能说……你看看我写的网页多糟糕～我也救不了你……（眼泪流下来）</p><p>      哦，对了，完成之后，别忘了push给github。然后如何看到自己网页的效果呢？访问“https://<b>用户名</b>.github.io/<b>仓库名</b>/”就可以了。和“<b>用户名</b>.github.io”这个仓库不一样，“<b>用户名</b>.github.io”下的文件不需要加仓库名，因为是给你个人用的；gh-pages下的网页是给项目用的，需要加上仓库名。访问这个不需要加index.html，当然你加上也不会影响访问。</p><p>      最后给个网址。http://www.w3school.com.cn/h.asp。这是html的教程，如果不追求效果，只是写一个能显示的html网页，看看教程学一下也是不难做到的～（应该说一天就做到了）</p><p>      最后总结一下。config别忘了；模板是必需的，记得加标签；posts的文件名要注意，内容要加头部；index和posts一样有头部，记得里面的那个for循环。</p><p>      完了～</p>